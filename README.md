
# payment-system : 결제 시스템
- 대규모 결제 트랜잭션을 위한 결제 백엔드 시스템 

---
## 🗂️ 프로젝트 구조 및 계획

### **진행 단계**
- [ ] **프로젝트 셋업**:
  - [x] Spring Boot 내장 톰캣
  - [x] 사용 라이브러리 추가
  - [ ] GKE 초기 셋팅, 샘플 가이드
  - [x] **git issue template**: 깃 허브 이슈 템플릿 설정
  - [ ] **프로퍼티 설정**: yml 설정
    - [x] DB 및 환경 변수 설정 추가
    - [x] 로깅 레벨 설정
    - [ ] 서버 포트 및 타임아웃 설정
    - [x] 서버 실행 sql 설정
    - [x] jpa ddl 관련 초기 설정
  - [x] 로컬/개발 docker-compose 초기 설정
  - [ ] **logback xml**: 로그 백 xml 및 템플릿 설정
  - [x] 백엔드 초기 패키지 구성
- [ ] **API 공통 요청, 응답**: 표준 요청, 응답 형식 정의(JSON)
- [ ] **전역 예외처리 Global Exception(CustomException 추가)**
- [ ] **DTO 및 VO 생성**: RequestDTO, ResponseDTO, VO 클래스 생성
- [ ] **결제 프로세스**:
  - [ ] 카드 결제 프로세스
  - [ ] 간편 결제 프로세스

---

## 🚀 기술 스택

| 기술                | 버전     |
|-------------------|--------|
| **Java**          | 21     |
| **Spring Boot**   | 3.5.3  |
| **PostgreSQL**    | LTS    |
| **JPA**           | LTS    |
| **JUnit**         | 5      |

---

## 🏗️ 시스템 아키텍처

### **개요**
 - 이 시스템은 대규모 결제 트랜잭션 처리를 위한 결제 백엔드 시스템입니다.
 - 결제 시스템에서 발생할수 있는 복잡한 트랜잭션 처리, (결제 요청, 결제 대기, 결제 완료 등의 프로세스를 처리합니다.
 - 대규모 결제 트래픽을 처리 할 수 있는 비동기 메시지 분산 처리를 지원합니다.
 - 결제 실패를 위한 실패 및 재처리를 지원합니다.

### **구성 요소**
1. **Spring MVC 결제 요청 서버**:
   - 결제 요청 API 제공
   - 결제를 이벤트 기반으로 kafka에게 메시지 전달
2. **Apache Kafka**:
   - 결제 요청 메시지를 처리 하는 중앙 메시지 브로커 
   - 장애/실패에 대한 메시지를 재시도 처리
3. **Spring MVC 결제 처리 서버**:
   - Kafka 메시지를 소비하여 결제 처리  
4. **PostgreSQL**:
   - 결제 및 트랜잭션 데이터 저장소
5. **Redis**:
   - 결제 관련 캐시 데이터 저장소

---
### **아키텍처 다이어그램**

---
### **ERD**

---
## 🔍 테스트 과정

---
## 📈 목표 및 기대 효과

### **목표**
- 데이터 정합성, 일관성 확보: 결제 트랜잭션 처리와 동시성 문제 해결, 메시지 기반 순서 보장
- 확장 가능한 시스템 설계: 대규모 트래픽에 대한 분산 처리, 메시지 기반 이벤트 처리
- 장애 복구: Kafka 기반 비동기 메시지 재처리

### **기대 효과**
- 안정적이고 신뢰성 있는 결제 처리 시스템
- 대규모 데이터 처리
- 빠르고 효율적인 오류/실패 복구
